(()=>{"use strict";var e={3539:(e,r,t)=>{t.r(r),t.d(r,{default:()=>O});var n=t(9526),o=t(1133),a=t(4333),i=t(4942),u=t(2982),f=t(885),l=t(9233),c=t(9997),s=t(7132),d=t(523);const v=function(){var e=(0,n.useState)(0),r=(0,f.default)(e,2),t=r[0],o=r[1],a=function(e){return e.filter((function(e){return 0!==e}))},i=function(e){e=a(e);for(var r=function(r){e[r]===e[r+1]&&(e[r]*=2,o((function(t){return t+e[r]})),e[r+1]=0)},t=0;t<e.length-1;t++)r(t);for(e=a(e);e.length<4;)e.push(0);return e};return{swipeLeft:function(e){for(var r=0;r<e.length;r++){var t=e[r],n=i(t);e[r]=n}return e},swipeRight:function(e){for(var r=0;r<e.length;r++){var t=e[r].slice().reverse(),n=i(t);e[r]=n.reverse()}return e},swipeUp:function(e){for(var r=function(r){var t=e.map((function(t,n){return e[n][r]}));t=i(t);for(var n=0;n<e.length;n++)e[n][r]=t[n]},t=0;t<e[0].length;t++)r(t);return e},swipeDown:function(e){for(var r=function(r){var t=e.map((function(t,n){return e[n][r]}));t.reverse(),(t=i(t)).reverse();for(var n=0;n<e.length;n++)e[n][r]=t[n]},t=0;t<e[0].length;t++)r(t);return e},isGameWon:function(e){for(var r=0;r<e.length;r++)for(var t=0;t<e[r].length;t++)if(2048===e[r][t])return!0;return!1},isGameLost:function(e){for(var r=0;r<e.length;r++)for(var t=0;t<e[r].length;t++){if(0===e[r][t])return!1;if(r!==e.length-1&&e[r][t]===e[r+1][t])return!1;if(t!==e[r].length-1&&e[r][t]===e[r][t+1])return!1}return!0},getScore:function(){return t},resetScore:function(){o(0)}}};var h=t(7557);function g(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}var p=4,b=.7,y=function(e){for(var r,t=[],n=0;n<p;n++)for(var o=0;o<p;o++)0===e[n][o]&&t.push({x:n,y:o});if(t.length>0){var a=(r=t)[Math.floor(Math.random()*r.length)];e[a.x][a.y]=Math.random()<=b?2:4}},m=a.default.create({board:{marginTop:20,backgroundColor:"#BBADA0",padding:5,borderRadius:5},row:{flexDirection:"row"},cell:{width:70,height:70,backgroundColor:"#CDC1B4",borderRadius:5,justifyContent:"center",alignItems:"center",margin:5},cellText:{fontSize:24,fontWeight:"bold",color:"#776E65"},scoreText:{fontSize:20,fontWeight:"bold",color:"#776E65",alignSelf:"center",marginVertical:10},gestureHandlerContainer:function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?g(Object(t),!0).forEach((function(r){(0,i.default)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):g(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({},a.default.absoluteFillObject),messageText:{fontSize:24,fontWeight:"bold",color:"#FF0000",alignSelf:"center",marginTop:20}});const w=function(){var e=v(),r=e.swipeLeft,a=e.swipeRight,i=e.swipeUp,g=e.swipeDown,p=e.isGameWon,w=e.isGameLost,j=e.getScore,O=e.resetScore,x=(0,n.useState)(Array(4).fill(Array(4).fill(0))),C=(0,f.default)(x,2),E=C[0],S=C[1];(0,n.useEffect)((function(){D(),D(),O()}),[]);var D=function(){var e=[];if(E.forEach((function(r,t){r.forEach((function(r,n){0===r&&e.push({row:t,col:n})}))})),0!==e.length){var r=e[Math.floor(Math.random()*e.length)],t=r.row,n=r.col,o=Math.random()<=b?2:4,a=(0,u.default)(E);a[t][n]=o,S(a)}},k=function(e){var t=e.keyCode;if([37,38,39,40].includes(t))switch(e.preventDefault(),t){case 37:S((function(e){var t=r(e.map((function(e){return(0,u.default)(e)})));return y(t),t}));break;case 39:S((function(e){var r=a(e.map((function(e){return(0,u.default)(e)})));return y(r),r}));break;case 38:S((function(e){var r=i(e.map((function(e){return(0,u.default)(e)})));return y(r),r}));break;case 40:S((function(e){var r=g(e.map((function(e){return(0,u.default)(e)})));return y(r),r}))}};return(0,n.useEffect)((function(){if("web"===s.default.OS)return window.addEventListener("keydown",k),function(){window.removeEventListener("keydown",k)};var e=t(8053).default;return e.addListener("keydown",k),function(){e.removeListener("keydown",k)}}),[]),(0,h.jsx)(d.GestureHandlerRootView,{style:m.container,children:(0,h.jsxs)(o.default,{style:m.board,children:[E.map((function(e,r){return(0,h.jsx)(o.default,{style:m.row,children:e.map((function(e,r){return(0,h.jsx)(c.default,{style:[m.cell,{backgroundColor:(t=e,{0:"#CDC1B4",2:"#EEE4DA",4:"#EDE0C8",8:"#F2B179",16:"#F59563",32:"#F67C5F",64:"#F65E3B",128:"#EDCF72",256:"#EDCC61",512:"#EDC850",1024:"#EDC53F",2048:"#EDC22E"}[t]||"#3C3A32")}],children:(0,h.jsx)(l.default,{style:m.cellText,children:0===e?"":e})},r);var t}))},r)})),(0,h.jsxs)(l.default,{style:m.scoreText,children:["Score: ",j()]}),p(E)&&(0,h.jsx)(l.default,{style:m.messageText,children:"Congratulations! You've won the game!"}),w(E)&&(0,h.jsx)(l.default,{style:m.messageText,children:"Game Over! Try again!"}),(0,h.jsx)(d.PanGestureHandler,{onHandlerStateChange:function(e){var t=e.nativeEvent,n=t.translationX,o=t.translationY;t.state===d.State.END&&(Math.abs(n)>Math.abs(o)?S(n<0?function(e){var t=r(e.map((function(e){return(0,u.default)(e)})));return y(t),t}:function(e){var r=a(e.map((function(e){return(0,u.default)(e)})));return y(r),r}):S(o<0?function(e){var r=i(e.map((function(e){return(0,u.default)(e)})));return y(r),r}:function(e){var r=g(e.map((function(e){return(0,u.default)(e)})));return y(r),r}))},children:(0,h.jsx)(o.default,{style:m.gestureHandlerContainer})})]})})};var j=a.default.create({container:{flex:1,backgroundColor:"#FAF8EF",alignItems:"center",justifyContent:"center"}});const O=function(){return(0,h.jsx)(o.default,{style:j.container,children:(0,h.jsx)(w,{})})}}},r={};function t(n){var o=r[n];if(void 0!==o)return o.exports;var a=r[n]={id:n,loaded:!1,exports:{}};return e[n](a,a.exports,t),a.loaded=!0,a.exports}t.m=e,(()=>{var e=[];t.O=(r,n,o,a)=>{if(!n){var i=1/0;for(c=0;c<e.length;c++){for(var[n,o,a]=e[c],u=!0,f=0;f<n.length;f++)(!1&a||i>=a)&&Object.keys(t.O).every((e=>t.O[e](n[f])))?n.splice(f--,1):(u=!1,a<i&&(i=a));if(u){e.splice(c--,1);var l=o();void 0!==l&&(r=l)}}return r}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[n,o,a]}})(),t.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return t.d(r,{a:r}),r},t.d=(e,r)=>{for(var n in r)t.o(r,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:r[n]})},t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),t.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),t.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e={179:0};t.O.j=r=>0===e[r];var r=(r,n)=>{var o,a,[i,u,f]=n,l=0;if(i.some((r=>0!==e[r]))){for(o in u)t.o(u,o)&&(t.m[o]=u[o]);if(f)var c=f(t)}for(r&&r(n);l<i.length;l++)a=i[l],t.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return t.O(c)},n=self.webpackChunkweb=self.webpackChunkweb||[];n.forEach(r.bind(null,0)),n.push=r.bind(null,n.push.bind(n))})();var n=t.O(void 0,[685],(()=>t(9484)));n=t.O(n)})();
//# sourceMappingURL=main.ce38b21e.js.map